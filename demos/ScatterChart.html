<!doctype html>
<html>
<head>
<title>Scatter Chart</title>

<!-- BlueWave Dependencies -->
<script src="https://www.javaxt.com/downloads/javaxt-webcontrols/javaxt.js"></script>
<script src="https://d3js.org/d3.v5.min.js"></script>

<!-- BlueWave Includes -->
<script src="../src/ScatterChart.js"></script>
<script src="../src/Utils.js"></script>


<!-- Demo-Specific Includes -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.3/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.3/mode/javascript/javascript.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.3/codemirror.min.css" rel="stylesheet" />
<link href="style.css" rel="stylesheet" type="text/css" />

</head>
<body>

<h1>Scatter Chart Demos</h1>

<div class="demo-container">

  <h2>Scatter Chart</h2>
  <p>Basic scatter plot using csv data</p>
  <div class="demo-row">
    <div id="demo1" class="chart-window"></div>
    <script>

  //Create scatter chart using "demo1" div
    var div = document.getElementById("demo1");
    var scatterChart = new bluewave.charts.ScatterChart(div, {
        pointRadius: 5
    });

  //Create csv data for the scatter chart
    var csv =
        "date,value\n" +
        "10/2022,3\n" +
        "11/2022,1\n" +
        "12/2022,6\n" +
        "13/2022,3\n" +
        "14/2022,4\n";

  //Parse csv using d3
    var data = d3.csvParse(csv);

  //Update the chart to render the data
    scatterChart.update(data, "date", "value");

    </script>
  </div>




  <h2>Linear Regression</h2>
  <p>Scatter plot with linear regression</p>
  <div class="demo-row">
    <div id="demo2" class="chart-window"></div>
    <script>


    var data = [
    { "date": "4/1854", "total": 8571, "disease": 1, "wounds": 0, "other": 5 },
    { "date": "5/1854", "total": 23333, "disease": 12, "wounds": 0, "other": 9 },
    { "date": "6/1854", "total": 28333, "disease": 11, "wounds": 0, "other": 6 },
    { "date": "7/1854", "total": 28772, "disease": 359, "wounds": 0, "other": 23 },
    { "date": "8/1854", "total": 30246, "disease": 828, "wounds": 1, "other": 30 },
    { "date": "9/1854", "total": 30290, "disease": 788, "wounds": 81, "other": 70 },
    { "date": "10/1854", "total": 30643, "disease": 503, "wounds": 132, "other": 128 },
    { "date": "11/1854", "total": 29736, "disease": 844, "wounds": 287, "other": 106 },
    { "date": "12/1854", "total": 32779, "disease": 1725, "wounds": 114, "other": 131 },
    { "date": "1/1855", "total": 32393, "disease": 2761, "wounds": 83, "other": 324 },
    { "date": "2/1855", "total": 30919, "disease": 2120, "wounds": 42, "other": 361 },
    { "date": "3/1855", "total": 30107, "disease": 1205, "wounds": 32, "other": 172 },
    { "date": "4/1855", "total": 32252, "disease": 477, "wounds": 48, "other": 57 },
    { "date": "5/1855", "total": 35473, "disease": 508, "wounds": 49, "other": 37 },
    { "date": "6/1855", "total": 38863, "disease": 802, "wounds": 209, "other": 31 },
    { "date": "7/1855", "total": 42647, "disease": 382, "wounds": 134, "other": 33 },
    { "date": "8/1855", "total": 44614, "disease": 483, "wounds": 164, "other": 25 },
    { "date": "9/1855", "total": 47751, "disease": 189, "wounds": 276, "other": 20 },
    { "date": "10/1855", "total": 46852, "disease": 128, "wounds": 53, "other": 18 },
    { "date": "11/1855", "total": 37853, "disease": 178, "wounds": 33, "other": 32 },
    { "date": "12/1855", "total": 43217, "disease": 91, "wounds": 18, "other": 28 },
    { "date": "1/1856", "total": 44212, "disease": 42, "wounds": 2, "other": 48 },
    { "date": "2/1856", "total": 43485, "disease": 24, "wounds": 0, "other": 19 },
    { "date": "3/1856", "total": 46140, "disease": 15, "wounds": 0, "other": 35 }];

  //Create scatter chart using "demo2" div
    var div = document.getElementById("demo2");
    var scatterChart = new bluewave.charts.ScatterChart(div, {
        showRegLine: true,
        pointOpacity: 0.5
    });

  //Update the chart to render the data
    scatterChart.update(data, "date", "total");

    </script>
  </div>

</div>



<script>
window.onload = function() {

  //The following script creates code blocks for each demo
    var scripts = document.getElementsByTagName("script");
    for (var i=0; i<scripts.length-1; i++){
        var script = scripts[i];
        if (script.src) continue;

        var div = document.createElement("div");
        script.parentNode.appendChild(div);

        CodeMirror(div, {
            mode: "javascript",
            lineNumbers: true,
            readOnly: true,
            value: "  " + script.innerText.trim()
        });
    }
};
</script>

</body>
</html>