<!doctype html>
<html>
<head>
<title>Bar Chart</title>

<!-- BlueWave Dependencies -->
<script src="https://www.javaxt.com/downloads/javaxt-webcontrols/javaxt.js"></script>
<script src="https://d3js.org/d3.v5.min.js"></script>


<!-- BlueWave Includes -->
<script src="../src/BarChart.js"></script>
<script src="../src/Utils.js"></script>


<!-- Demo-Specific Includes -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.3/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.3/mode/javascript/javascript.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.3/codemirror.min.css" rel="stylesheet" />
<link href="style.css" rel="stylesheet" type="text/css" />

</head>
<body>

<h1>Bar Graph Demos</h1>

<div class="demo-container">


  <h2>Bar Chart</h2>
  <p>Basic bar graph with simulated time series data</p>
  <div class="demo-row">
    <div id="demo1" class="chart-window"></div>
    <script>

  //Create bar chart using "demo1" div
    var div = document.getElementById("demo1");
    var barChart = new bluewave.charts.BarChart(div);

  //Create csv data for the bar chart
    var csv =
    "date,value\n"+
    "1/10/2022,3\n"+
    "1/11/2022,1\n"+
    "1/12/2022,7\n"+
    "1/23/2022,3\n"+
    "3/30/2022,4\n";


  //Parse csv using d3
    var data = d3.csvParse(csv);


  //Specify x and y axis in the chart config
    var config = {
        xAxis: "date",
        yAxis: "value"
    };


  //Update the chart to render the data
    barChart.update(config, [data]);

    </script>
  </div>


  <h2>Horizontal Bar Chart</h2>
  <div class="demo-row">
    <div id="demo2" class="chart-window"></div>
    <script>

  //Create bar chart using "demo2" div
    var div = document.getElementById("demo2");
    var barChart = new bluewave.charts.BarChart(div);

  //Create csv data for the bar chart
    var csv =
    "group,Nitrogen,normal,stress\n"+
    "banana,12,1,13\n"+
    "poacee,6,6,33\n"+
    "sorgho,11,28,12\n"+
    "triticum,19,6,1\n";


  //Parse csv using d3
    var data = d3.csvParse(csv);


  //Specify x and y axis and explicitly define
  //the layout in the chart config
    var config = {
        yAxis: "group",
        xAxis: "normal",
        layout: "horizontal"
    };


  //Update the chart to render the data
    barChart.update(config, [data]);

    </script>
  </div>





  <script>

    var religionsByCountry =
    "country,religion,population\n" +
    "China,Christian,68410000\n" +
    "China,Muslim,24690000\n" +
    "China,Unaffiliated,700680000\n" +
    "China,Hindu,20000\n" +
    "China,Buddhist,244130000\n" +
    "China,Folk Religions,294320000\n" +
    "China,Other Religions,9080000\n" +
    "China,Jewish,0\n" +
    "India,Christian,31130000\n" +
    "India,Muslim,176190000\n" +
    "India,Unaffiliated,870000\n" +
    "India,Hindu,973750000\n" +
    "India,Buddhist,9250000\n" +
    "India,Folk Religions,5840000\n" +
    "India,Other Religions,27560000\n" +
    "India,Jewish,10000\n" +
    "United States,Christian,243060000\n" +
    "United States,Muslim,2770000\n" +
    "United States,Unaffiliated,50980000\n" +
    "United States,Hindu,1790000\n" +
    "United States,Buddhist,3570000\n" +
    "United States,Folk Religions,630000\n" +
    "United States,Other Religions,1900000\n" +
    "United States,Jewish,5690000\n" +
    "Indonesia,Christian,23660000\n" +
    "Indonesia,Muslim,209120000\n" +
    "Indonesia,Unaffiliated,240000\n" +
    "Indonesia,Hindu,4050000\n" +
    "Indonesia,Buddhist,1720000\n" +
    "Indonesia,Folk Religions,750000\n" +
    "Indonesia,Other Religions,340000\n" +
    "Indonesia,Jewish,0\n" +
    "Brazil,Christian,173300000\n" +
    "Brazil,Muslim,40000\n" +
    "Brazil,Unaffiliated,15410000\n" +
    "Brazil,Hindu,0\n" +
    "Brazil,Buddhist,250000\n" +
    "Brazil,Folk Religions,5540000\n" +
    "Brazil,Other Religions,300000\n" +
    "Brazil,Jewish,110000\n" +
    "Pakistan,Christian,2750000\n" +
    "Pakistan,Muslim,167410000\n" +
    "Pakistan,Unaffiliated,20000\n" +
    "Pakistan,Hindu,3330000\n" +
    "Pakistan,Buddhist,20000\n" +
    "Pakistan,Folk Religions,30000\n" +
    "Pakistan,Other Religions,20000\n" +
    "Pakistan,Jewish,0\n";

  </script>

  <h2>Grouped Bar Chart</h2>
  <div class="demo-row">
    <div id="demo3" class="chart-window"></div>
    <script>

  //Create bar chart using "demo3" div
    var div = document.getElementById("demo3");
    var barChart = new bluewave.charts.BarChart(div);


    var data = d3.csvParse(religionsByCountry);

    var config = {
        xAxis: "country",
        yAxis: "population",
        group: "religion",
        colors: d3.schemeTableau10
    };

    barChart.update(config, [data]);

    </script>
  </div>


  <h2>Stacked Bar Chart</h2>
  <div class="demo-row">
    <div id="demo4" class="chart-window"></div>
    <script>

  //Create bar chart using "demo4" div
    var div = document.getElementById("demo4");
    var barChart = new bluewave.charts.BarChart(div);

    var data = d3.csvParse(religionsByCountry);

    var config = {
        xAxis: "country",
        yAxis: "population",
        group: "religion",
        colors: d3.schemeTableau10,
        stackValues: true
    };

    barChart.update(config, [data]);

    </script>
  </div>

</div>



<script type="text/javascript">
window.onload = function() {

  //The following script creates code blocks for each demo
    var scripts = document.getElementsByTagName("script");
    for (var i=0; i<scripts.length-1; i++){
        var script = scripts[i];
        if (script.src) continue;

        var div = document.createElement("div");
        script.parentNode.appendChild(div);

        CodeMirror(div, {
            mode: "javascript",
            lineNumbers: true,
            readOnly: true,
            value: "  " + script.innerText.trim()
        });
    }
};
</script>
</body>
</html>